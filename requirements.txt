# 必須依存関係（実際の実装に基づく）
# アルゴリズムと実装の詳細分析により特定

# === コア機能（必須） ===
openai>=1.0.0,<2.0.0
streamlit>=1.28.0,<2.0.0
python-dotenv>=1.0.0,<2.0.0
numpy==1.24.3
faiss-cpu>=1.7.4,<2.0.0
langchain>=0.1.0,<1.0.0
tiktoken>=0.5.0,<1.0.0

# === 文書処理（実際に使用） ===
PyMuPDF>=1.23.0,<2.0.0
python-docx>=0.8.11,<1.0.0
Pillow>=10.0.0,<11.0.0
beautifulsoup4>=4.12.0,<5.0.0
lxml>=4.9.0,<5.0.0
python-pptx>=0.6.21,<1.0.0

# === OCR機能（Excel複数シートで使用） ===
pytesseract>=0.3.10,<1.0.0
opencv-python>=4.8.0,<5.0.0
# easyocrはtorchに依存するため、CPU版のPyTorchを明示的に追加
torch>=2.0.0,<3.0.0
torchvision>=0.15.0,<1.0.0
easyocr>=1.7.0,<2.0.0

# === データ処理（実際に使用） ===
openpyxl>=3.1.0,<4.0.0
PyYAML>=6.0.0,<7.0.0
pandas>=2.0.0,<3.0.0
plotly>=5.18.0,<6.0.0
xarray>=2023.11.0,<2025.0.0

# === 基本ライブラリ（必須） ===
requests>=2.31.0,<3.0.0
psutil>=5.9.0,<6.0.0
firebase-admin>=6.2.0,<7.0.0

# === 削除された依存関係 ===
# 埋め込みモデル（未実装）
# sentence-transformers, torch, transformers, accelerate

# === 検索・ランキング ===
rank_bm25>=0.2.2,<0.3.0
# sudachipy, sudachidict_core

# === アーカイブ処理（オプション） ===
# ZIP/TARは標準ライブラリで対応（追加インストール不要）
# RAR/7Zサポートが必要な場合のみインストール
# rarfile>=4.0,<5.0  # RARサポート（システムのunrar/unarも必要）
# py7zr>=0.21.0,<1.0.0  # 7Zサポート

# 評価フレームワーク（未実装）
# ragas, trulens-eval, cohere

# 開発・テスト（本番不要）
# pytest, pytest-cov, black, flake8, mypy, pre-commit

# 監視・ログ（オプション）
# prometheus-client, structlog, sentry-sdk

# パフォーマンス（未使用）
# redis, celery

# 可視化（未使用）
# plotly

# セキュリティ（未使用）
# cryptography

# === 軽量化効果 ===
# 削除前: 約4.5GB
# 削除後: 約800MB
# 軽量化率: 約82%削減
# OCR機能は保持（Excel複数シートで使用）